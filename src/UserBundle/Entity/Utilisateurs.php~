<?php

namespace UserBundle\Entity;
/**
 * @MappedSuperclass
 */
use FOS\UserBundle\Model\User as BaseUser;
use Doctrine\ORM\Mapping as ORM;
use FOS\UserBundle\Model\GroupableInterface;
use FOS\UserBundle\Model\GroupInterface;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\ORM\Mapping\AttributeOverrides;
use Doctrine\ORM\Mapping\AttributeOverride;
use PrestatairesBundle\Entity\VAPrestataires;

/**
 * Utilisateurs
 *
 * @ORM\Entity(repositoryClass="UserBundle\Repository\UtilisateursRepository")
 * @ORM\Table(name="VA_CONSEILLERS_PROFILS")
 * @ORM\AttributeOverrides({
 *     @ORM\AttributeOverride(name="username",
 *          column=@ORM\Column(
 *              name     = "Login_Iconet",
 *              type     = "string",
 *              length   = 255,
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="password",
 *          column=@ORM\Column(
 *              name     = "Mdp_Iconet",
 *              type     = "string",
 *              length   = 255,
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="enabled",
 *          column=@ORM\Column(
 *              name     = "Actif",
 *              type     = "boolean",
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="email",
 *          column=@ORM\Column(name = "Email",type = "string",length = 100, nullable = true, unique= false)
 *      ),
 *     @ORM\AttributeOverride(name="usernameCanonical",
 *          column=@ORM\Column(
 *              name     = "username_canonical",
 *              type     = "string",
 *              length   = 255,
 *              unique   = false,
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="salt",
 *          column=@ORM\Column(
 *              name     = "salt",
 *              type     = "string",
 *              length     = 255,
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="emailCanonical",
 *          column=@ORM\Column(
 *              name     = "email_canonical",
 *              type     = "string",
 *              length     = 255,
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="locked",
 *          column=@ORM\Column(
 *              name     = "locked",
 *              type     = "boolean",
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="expired",
 *          column=@ORM\Column(
 *              name     = "expired",
 *              type     = "boolean",
 *              nullable = true
 *          )
 *      ),
 *     @ORM\AttributeOverride(name="roles",
 *          column=@ORM\Column(
 *              name     = "roles",
 *              type     = "array",
 *              nullable = true
 *          )
 *      ),
 * })
 */
class Utilisateurs extends BaseUser
{
    
    /**
     * @var string 
     * 
     * @ORM\Id
     * @ORM\Column(name="Code_Profil", type="string",length=20)
    */
    protected $codeProfil;
    
    /**
     * @var integer
     * 
     * @ORM\Column(name="id", type="integer")
    */
    protected $id;
    
    /**
     * @ORM\ManyToMany(targetEntity="UserBundle\Entity\Group",cascade={"persist"})
     * @ORM\JoinTable(name="utilisateurs_appartient_groupe",
     *      joinColumns={@ORM\JoinColumn(name="user_id", referencedColumnName="Code_Profil")},
     *      inverseJoinColumns={@ORM\JoinColumn(name="group_id", referencedColumnName="id")}
     * )
     */
    protected $groups;
    
    /**
     * @ORM\ManyToMany(targetEntity="PrestatairesBundle\Entity\VAPrestataires")
     * @ORM\JoinTable(name="utilisateurs_appartient_prestataire",
     *      joinColumns={@ORM\JoinColumn(name="CodeProfil", referencedColumnName="Code_Profil")},
     *      inverseJoinColumns={@ORM\JoinColumn(name="Prestataire", referencedColumnName="Prestataire_Code")}
     * )
     */
    private $prestataireListe;
    /**
        * @ORM\ManyToOne(targetEntity="PrestatairesBundle\Entity\VAPrestataires")
        * @ORM\JoinColumn(nullable=true,name="Prestataire",referencedColumnName="Prestataire_Code")
    */
    private $prestataire;

    /**
     * @var string
     *
     * @ORM\Column(name="CivilitÃ©", type="string", length=1, nullable=true)
     */
    private $civilite;

    /**
     * @var string
     *
     * @ORM\Column(name="Nom", type="string", length=50, nullable=true)
     */
    private $nom;
    
    /**
     * @var string
     *
     * @ORM\Column(name="Prenom", type="string", length=50, nullable=true)
     */
    private $prenom;

    /**
     * @var string
     *
     * @ORM\Column(name="Tel_Portable", type="string", length=14, nullable=true)
     */
    private $telPortable;

    /**
     * @var string
     *
     * @ORM\Column(name="Tel_Fixe", type="string", length=14, nullable=true)
     */
    private $telFixe;

    /**
     * @var integer
     *
     * @ORM\Column(name="localisation", type="integer", nullable=true)
     */
    private $localisation;
    
    /**
     * @var string
     *
     * @ORM\Column(name="User_Iconet", type="string", length=20, nullable=true)
     */
    private $userIconet;

    /**
     * @var \DateTime
     *
     * @ORM\Column(name="Date_Commencement", type="datetime", nullable=true)
     */
    private $dateCommencement;

    /**
     * @var string
     *
     * @ORM\Column(name="Superviseur", type="string", length=20, nullable=true)
     */
    private $superviseur;

    /**
     * @var boolean
     *
     * @ORM\Column(name="Actif_GestionCO", type="boolean", nullable=true)
     */
    private $actifGestionco;

    /**
     * @var boolean
     *
     * @ORM\Column(name="Actif_Iconet", type="boolean", nullable=true)
     */
    private $actifIconet;

    /**
     * @var boolean
     *
     * @ORM\Column(name="Visible_Iconet", type="boolean", nullable=true)
     */
    private $visibleIconet;

    /**
     * @var boolean
     *
     * @ORM\Column(name="Redirection_Mail", type="boolean", nullable=true)
     */
    private $redirectionMail;

    /**
     * @var boolean
     *
     * @ORM\Column(name="Redirection_Superviseur", type="boolean", nullable=true)
     */
    private $redirectionSuperviseur;

    /**
     * @var string
     *
     * @ORM\Column(name="Adresse_Mail_Redirection", type="string", length=100, nullable=true)
     */
    private $adresseMailRedirection;


    /**
     * @var \DateTime
     *
     * @ORM\Column(name="Date_Creation", type="datetime", nullable=true)
     */
    private $dateCreation;

    /**
     * @var \DateTime
     *
     * @ORM\Column(name="Date_MAJ", type="datetime", nullable=true)
     */
    private $dateMaj;

    /**
     * @var string
     *
     * @ORM\Column(name="Utilisateur_MAJ", type="string", length=50, nullable=true)
     */
    private $utilisateurMaj;
    
    
    /**
     * @var string
     *
     * @ORM\Column(name="password_clear", type="string",length=255, nullable=true)
     */
    
    protected $passwordClear;
    
    /**
     * @var integer
     *
     * @ORM\Column(name="nbrQuotaJour", type="integer", nullable=true)
     */
    private $quotaAutomatique = 7;
    
    
    /**
     * @var integer
     *
     * @ORM\Column(name="etatKiamo", type="boolean", nullable=true)
     */
    private $etatKiamo = false;
    
    
    /**
     * @ORM\OneToMany(targetEntity="ParametresBundle\Entity\iconetParametresConseillers", mappedBy="codeProfil")
     */
    private $parametresPage;
    
    public function __construct()
    {
        $this->groups = new ArrayCollection();
        parent::__construct();
    }
    /**
     * Get id
     *
     * @return int
     */
    public function getId()
    {
        return $this->id;
    }

    /**
     * Set codeProfil
     *
     * @param string $codeProfil
     *
     * @return Utilisateurs
     */
    public function setCodeProfil($codeProfil)
    {
        $this->codeProfil = $codeProfil;

        return $this;
    }

    


    /**
     * Set userAgresso
     *
     * @param string $userAgresso
     *
     * @return Utilisateurs
     */
    public function setUserAgresso($userAgresso)
    {
        $this->user_agresso = $userAgresso;

        return $this;
    }

    /**
     * Get userAgresso
     *
     * @return string
     */
    public function getUserAgresso()
    {
        return $this->user_agresso;
    }

    /**
     * Set parti
     *
     * @param boolean $parti
     *
     * @return Utilisateurs
     */
    public function setParti($parti)
    {
        $this->parti = $parti;

        return $this;
    }

    /**
     * Get parti
     *
     * @return boolean
     */
    public function getParti()
    {
        return $this->parti;
    }

    /**
     * Set clicktocall
     *
     * @param boolean $clicktocall
     *
     * @return Utilisateurs
     */
    public function setClicktocall($clicktocall)
    {
        $this->clicktocall = $clicktocall;

        return $this;
    }

    /**
     * Get clicktocall
     *
     * @return boolean
     */
    public function getClicktocall()
    {
        return $this->clicktocall;
    }

    
    /**
     * Gets the groups granted to the user.
     *
     * @return Collection
     */
    public function getGroups()
    {
        return $this->groups ?: $this->groups = new ArrayCollection();
    }

    public function getGroupNames()
    { 
        $names = array();
        foreach ($this->getGroups() as $group) {
            $names[] = $group->getName();
        }

        return $names;
    }
    public function getGroupsIds()
    { 
        $names = array();
        foreach ($this->getGroups() as $group) {
            $names[] = $group->getId();
        }

        return $names;
    }
    
    /**
     * Set groups
     *
     * @param Doctrine\Common\Collections\ArrayCollection $groups
     * @return Usuario
     */

    public function setGroups(GroupInterface $groups)
    {
        $this->groups[] = $groups;

        return $this;
    }
    /**
     * @param string $name
     *
     * @return boolean
     */
    public function hasGroup($name)
    {
        return in_array($name, $this->getGroupNames());
    }
    
    public function addGroup(GroupInterface $groups)
    {
        parent::addGroup($groups);
        $this->groups[] = $groups;
      
        return $this;
    }
  
    public function removeGroup(GroupInterface $groups)
    {
        $this->groups->removeElement($groups);
    }

    /**
     * Set nom
     *
     * @param string $nom
     *
     * @return Utilisateurs
     */
    public function setNom($nom)
    {
        $this->nom = $nom;

        return $this;
    }

    /**
     * Get nom
     *
     * @return string
     */
    public function getNom()
    {
        return $this->nom;
    }

    /**
     * Set prenom
     *
     * @param string $prenom
     *
     * @return Utilisateurs
     */
    public function setPrenom($prenom)
    {
        $this->prenom = $prenom;

        return $this;
    }

    /**
     * Get prenom
     *
     * @return string
     */
    public function getPrenom()
    {
        return $this->prenom;
    }

    /**
     * Get codeProfil
     *
     * @return string
     */
    public function getCodeProfil()
    {
        return $this->codeProfil;
    }

   
    /**
     * Set civilite
     *
     * @param string $civilite
     *
     * @return Utilisateurs
     */
    public function setCivilite($civilite)
    {
        $this->civilite = $civilite;

        return $this;
    }

    /**
     * Get civilite
     *
     * @return string
     */
    public function getCivilite()
    {
        return $this->civilite;
    }

    /**
     * Set telPortable
     *
     * @param string $telPortable
     *
     * @return Utilisateurs
     */
    public function setTelPortable($telPortable)
    {
        $this->telPortable = $telPortable;

        return $this;
    }

    /**
     * Get telPortable
     *
     * @return string
     */
    public function getTelPortable()
    {
        return $this->telPortable;
    }

    /**
     * Set telFixe
     *
     * @param string $telFixe
     *
     * @return Utilisateurs
     */
    public function setTelFixe($telFixe)
    {
        $this->telFixe = $telFixe;

        return $this;
    }

    /**
     * Get telFixe
     *
     * @return string
     */
    public function getTelFixe()
    {
        return $this->telFixe;
    }

    /**
     * Set localisation
     *
     * @param integer $localisation
     *
     * @return Utilisateurs
     */
    public function setLocalisation($localisation)
    {
        $this->localisation = $localisation;

        return $this;
    }

    /**
     * Get localisation
     *
     * @return integer
     */
    public function getLocalisation()
    {
        return $this->localisation;
    }

    /**
     * Set userIconet
     *
     * @param string $userIconet
     *
     * @return Utilisateurs
     */
    public function setUserIconet($userIconet)
    {
        $this->userIconet = $userIconet;

        return $this;
    }

    /**
     * Get userIconet
     *
     * @return string
     */
    public function getUserIconet()
    {
        return $this->userIconet;
    }

    /**
     * Set dateCommencement
     *
     * @param \DateTime $dateCommencement
     *
     * @return Utilisateurs
     */
    public function setDateCommencement($dateCommencement)
    {
        $this->dateCommencement = $dateCommencement;

        return $this;
    }

    /**
     * Get dateCommencement
     *
     * @return \DateTime
     */
    public function getDateCommencement()
    {
        return $this->dateCommencement;
    }

    /**
     * Set superviseur
     *
     * @param string $superviseur
     *
     * @return Utilisateurs
     */
    public function setSuperviseur($superviseur)
    {
        $this->superviseur = $superviseur;

        return $this;
    }

    /**
     * Get superviseur
     *
     * @return string
     */
    public function getSuperviseur()
    {
        return $this->superviseur;
    }

    /**
     * Set actifGestionco
     *
     * @param boolean $actifGestionco
     *
     * @return Utilisateurs
     */
    public function setActifGestionco($actifGestionco = true)
    {
        $this->actifGestionco = $actifGestionco;

        return $this;
    }

    /**
     * Get actifGestionco
     *
     * @return boolean
     */
    public function getActifGestionco()
    {
        return $this->actifGestionco;
    }

    /**
     * Set actifIconet
     *
     * @param boolean $actifIconet
     *
     * @return Utilisateurs
     */
    public function setActifIconet($actifIconet = true)
    {
        $this->actifIconet = $actifIconet;

        return $this;
    }

    /**
     * Get actifIconet
     *
     * @return boolean
     */
    public function getActifIconet()
    {
        return $this->actifIconet;
    }

    /**
     * Set visibleIconet
     *
     * @param boolean $visibleIconet
     *
     * @return Utilisateurs
     */
    public function setVisibleIconet($visibleIconet = true)
    {
        $this->visibleIconet = $visibleIconet;

        return $this;
    }

    /**
     * Get visibleIconet
     *
     * @return boolean
     */
    public function getVisibleIconet()
    {
        return $this->visibleIconet;
    }

    /**
     * Set redirectionMail
     *
     * @param boolean $redirectionMail
     *
     * @return Utilisateurs
     */
    public function setRedirectionMail($redirectionMail)
    {
        $this->redirectionMail = $redirectionMail;

        return $this;
    }

    /**
     * Get redirectionMail
     *
     * @return boolean
     */
    public function getRedirectionMail()
    {
        return $this->redirectionMail;
    }

    /**
     * Set redirectionSuperviseur
     *
     * @param boolean $redirectionSuperviseur
     *
     * @return Utilisateurs
     */
    public function setRedirectionSuperviseur($redirectionSuperviseur)
    {
        $this->redirectionSuperviseur = $redirectionSuperviseur;

        return $this;
    }

    /**
     * Get redirectionSuperviseur
     *
     * @return boolean
     */
    public function getRedirectionSuperviseur()
    {
        return $this->redirectionSuperviseur;
    }

    /**
     * Set adresseMailRedirection
     *
     * @param string $adresseMailRedirection
     *
     * @return Utilisateurs
     */
    public function setAdresseMailRedirection($adresseMailRedirection)
    {
        $this->adresseMailRedirection = $adresseMailRedirection;

        return $this;
    }

    /**
     * Get adresseMailRedirection
     *
     * @return string
     */
    public function getAdresseMailRedirection()
    {
        return $this->adresseMailRedirection;
    }

    /**
     * Set actif
     *
     * @param boolean $actif
     *
     * @return Utilisateurs
     */
    public function setActif($actif = true)
    {
        $this->actif = $actif;

        return $this;
    }

    /**
     * Get actif
     *
     * @return boolean
     */
    public function getActif()
    {
        return $this->actif;
    }

    /**
     * Set dateCreation
     *
     * @param \DateTime $dateCreation
     *
     * @return Utilisateurs
     */
    public function setDateCreation(\DateTime $dateCreation = null)
    {
        $this->dateCreation = $dateCreation;

        return $this;
    }

    /**
     * Get dateCreation
     *
     * @return \DateTime
     */
    public function getDateCreation()
    {
        return $this->dateCreation;
    }

    /**
     * Set dateMaj
     *
     * @param \DateTime $dateMaj
     *
     * @return Utilisateurs
     */
    public function setDateMaj($dateMaj)
    {
        $this->dateMaj = $dateMaj;

        return $this;
    }

    /**
     * Get dateMaj
     *
     * @return \DateTime
     */
    public function getDateMaj()
    {
        return $this->dateMaj;
    }

    /**
     * Set utilisateurMaj
     *
     * @param string $utilisateurMaj
     *
     * @return Utilisateurs
     */
    public function setUtilisateurMaj($utilisateurMaj)
    {
        $this->utilisateurMaj = $utilisateurMaj;

        return $this;
    }

    /**
     * Get utilisateurMaj
     *
     * @return string
     */
    public function getUtilisateurMaj()
    {
        return $this->utilisateurMaj;
    }
    
    

    /**
     * Get expiresAt
     *
     * @return \DateTime
     */
    public function getExpiresAt()
    {
        return $this->expiresAt;
    }

    /**
     * Get credentialsExpired
     *
     * @return boolean
     */
    public function getCredentialsExpired()
    {
        return $this->credentialsExpired;
    }

    /**
     * Get credentialsExpireAt
     *
     * @return \DateTime
     */
    public function getCredentialsExpireAt()
    {
        return $this->credentialsExpireAt;
    }
    

    /**
     * Get enabled
     *
     * @return boolean
     */
    public function getEnabled()
    {
        return $this->enabled;
    }

    /**
     * Set salt
     *
     * @param string $salt
     *
     * @return Utilisateurs
     */
    public function setSalt($salt)
    {
        $this->salt = $salt;

        return $this;
    }

    /**
     * Get locked
     *
     * @return boolean
     */
    public function getLocked()
    {
        return $this->locked;
    }

    /**
     * Get expired
     *
     * @return boolean
     */
    public function getExpired()
    {
        return $this->expired;
    }

    /**
     * Set id
     *
     * @param integer $id
     *
     * @return Utilisateurs
     */
    public function setId($id)
    {
        $this->id = $id;

        return $this;
    }

    /**
     * Set passwordClear
     *
     * @param \strong $passwordClear
     *
     * @return Utilisateurs
     */
    public function setPasswordClear($passwordClear)
    {
        $this->passwordClear = $passwordClear;
        return $this;
    }

    /**
     * Get passwordClear
     *
     * @return \strong
     */
    public function getPasswordClear()
    {
        return $this->passwordClear;
    }


    /**
     * Set quotaAutomatique
     *
     * @param integer $quotaAutomatique
     *
     * @return Utilisateurs
     */
    public function setQuotaAutomatique($quotaAutomatique)
    {
        $this->quotaAutomatique = $quotaAutomatique;

        return $this;
    }

    /**
     * Get quotaAutomatique
     *
     * @return integer
     */
    public function getQuotaAutomatique()
    {
        return $this->quotaAutomatique;
    }

    /**
     * Set etatKiamo
     *
     * @param boolean $etatKiamo
     *
     * @return Utilisateurs
     */
    public function setEtatKiamo($etatKiamo)
    {
        $this->etatKiamo = $etatKiamo;

        return $this;
    }

    /**
     * Get etatKiamo
     *
     * @return boolean
     */
    public function getEtatKiamo()
    {
        return $this->etatKiamo;
    }
    
    public function __toString() {
         return $this->getNom()." ".$this->getPrenom();
    }

    

    /**
     * Add prestataireListe
     *
     * @param \PrestatairesBundle\Entity\VAPrestataires $prestataireListe
     *
     * @return Utilisateurs
     */
    public function addPrestataireListe(\PrestatairesBundle\Entity\VAPrestataires $prestataireListe)
    {
        $this->prestataireListe[] = $prestataireListe;

        return $this;
    }

    /**
     * Remove prestataireListe
     *
     * @param \PrestatairesBundle\Entity\VAPrestataires $prestataireListe
     */
    public function removePrestataireListe(\PrestatairesBundle\Entity\VAPrestataires $prestataireListe)
    {
        $this->prestataireListe->removeElement($prestataireListe);
    }

    /**
     * Get prestataireListe
     *
     * @return \Doctrine\Common\Collections\Collection
     */
    public function getPrestataireListe()
    {
        return $this->prestataireListe;
    }

    /**
     * Set prestataire
     *
     * @param \PrestatairesBundle\Entity\VAPrestataires $prestataire
     *
     * @return Utilisateurs
     */
    public function setPrestataire(\PrestatairesBundle\Entity\VAPrestataires $prestataire = null)
    {
        $this->prestataire = $prestataire;

        return $this;
    }

    /**
     * Get prestataire
     *
     * @return \PrestatairesBundle\Entity\VAPrestataires
     */
    public function getPrestataire()
    {
        return $this->prestataire;
    }
    
    

    /**
     * Add parametresPage
     *
     * @param \ParametresBundle\Entity\iconetParametresConseillers $parametresPage
     *
     * @return Utilisateurs
     */
    public function addParametresPage(\ParametresBundle\Entity\iconetParametresConseillers $parametresPage)
    {
        $this->parametresPage[] = $parametresPage;

        return $this;
    }

    /**
     * Remove parametresPage
     *
     * @param \ParametresBundle\Entity\iconetParametresConseillers $parametresPage
     */
    public function removeParametresPage(\ParametresBundle\Entity\iconetParametresConseillers $parametresPage)
    {
        $this->parametresPage->removeElement($parametresPage);
    }

    /**
     * Get parametresPage
     *
     * @return \Doctrine\Common\Collections\Collection
     */
    public function getParametresPage()
    {
        return $this->parametresPage;
    }
}
